<!doctype html>
<html lang="zh-tw" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-模組套件與Crate/Rust_Module_System">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Rust 模組系統 | Insect Totem</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rust.insect-totem.net/img/800_374.jpg"><meta data-rh="true" name="twitter:image" content="https://rust.insect-totem.net/img/800_374.jpg"><meta data-rh="true" property="og:url" content="https://rust.insect-totem.net/docs/模組套件與Crate/Rust_Module_System"><meta data-rh="true" name="docusaurus_locale" content="zh-tw"><meta data-rh="true" name="docsearch:language" content="zh-tw"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rust 模組系統 | Insect Totem"><meta data-rh="true" name="description" content="Rust Module Systems"><meta data-rh="true" property="og:description" content="Rust Module Systems"><meta data-rh="true" name="keywords" content="Rust,Module System"><link data-rh="true" rel="icon" href="/img/70_70.jpg"><link data-rh="true" rel="canonical" href="https://rust.insect-totem.net/docs/模組套件與Crate/Rust_Module_System"><link data-rh="true" rel="alternate" href="https://rust.insect-totem.net/docs/模組套件與Crate/Rust_Module_System" hreflang="zh-tw"><link data-rh="true" rel="alternate" href="https://rust.insect-totem.net/docs/模組套件與Crate/Rust_Module_System" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Insect Totem RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Insect Totem Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z1DF5K597H"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Z1DF5K597H",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" async></script>
<script src="/js/init-cookieconsent.js" async></script><link rel="stylesheet" href="/assets/css/styles.5521adb6.css">
<link rel="preload" href="/assets/js/runtime~main.060c430c.js" as="script">
<link rel="preload" href="/assets/js/main.7644b050.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳至主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳至主要内容</a></div><nav aria-label="主導航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/70_70.jpg" alt="Site Logo of Totem&#x27;s" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/70_70.jpg" alt="Site Logo of Totem&#x27;s" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Totem&#x27;s</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Rust安裝/Rust_1_Installation">Rust 學習筆記</a><a href="https://python.insect-totem.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Python 學習紀錄<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://insect-totem.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Insect Totem 主站<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切換淺色/暗黑模式（當前為淺色模式）" aria-label="切換淺色/暗黑模式（當前為淺色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到頂部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/70_70.jpg" alt="Site Logo of Totem&#x27;s" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/70_70.jpg" alt="Site Logo of Totem&#x27;s" class="themedImage_ToTc themedImage--dark_i4oU"><b>Totem&#x27;s</b></a><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Rust安裝/Rust_1_Installation">Rust安裝</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs-map">Document List (docs)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/IDE/VSCODE_GIT">IDE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Rust起步走/Rust_Project">Rust起步走</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/模組套件與Crate/Rust_Module_System">模組套件與Crate</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/模組套件與Crate/Rust_Module_System">Rust 模組系統</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/模組套件與Crate/Rust_Nested_Module">Rust 內部 Module</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/GDPR/PrivacyPolicy_Eng">GDPR</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="頁面路徑"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主頁面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">模組套件與Crate</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Rust 模組系統</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本頁導覽</button></div><div class="theme-doc-markdown markdown"><h1>Rust 模組系統</h1><table><thead><tr><th>關鍵字</th><th>解釋</th><th>註與釋義</th></tr></thead><tbody><tr><td>module</td><td>模組，是 functions, structs, traits, impl blocks 或是其他 modules 的集合</td><td>以OOP概念來說，<br>module 就是一個 functional group，將相關商業邏輯的資料集中的一個區塊<br>語法上可以槽串在某個 rs 檔中，不過還是建議獨立成一個單獨的 rs 檔。</td></tr><tr><td>package</td><td>套件: 由一系列相關功能的 crate 所組成的單元</td><td>內含一個 Cargo.toml 套件設定檔，用來說明如何建構 crates<br>必須具有至少一個 crate<br>  其中可以是 1...* 個 binary crates<br>  但僅可以擁有 0...1 個 library crate</td></tr><tr><td>crate</td><td>Rust compiler 視為程式碼的最小單位。需要一起 compile 的相關程式碼。</td><td></td></tr><tr><td>binary crate</td><td>執行檔 Crate: 能編譯成執行檔並執行的程式單元</td><td>有 main 函式的 crate</td></tr><tr><td>library crate</td><td>函式庫 Crate: 用來定義分可享工具的單元</td><td>不具 main 函式</td></tr><tr><td>crate root</td><td>Crate 源頭: Rust compiler - rustc 編譯時首先尋找的入口檔</td><td>Crate root 預設指的是 src 下的 main.rs 與 lib.rs</td></tr><tr><td>Scope</td><td>作用域</td><td>在模組這邊預設指的是相同資料夾中的 sibling modules。<br>有加 pub 修飾者，則可全域使用。</td></tr><tr><td>path</td><td>路徑</td><td>模組系統中指的是，在 Module Tree 下找尋指定 module 的查找路徑。</td></tr><tr><td>use</td><td>將指定 module 引用時所需的指令</td><td>將指定 module 路徑所關聯的 module 引入<!-- -->(<!-- -->import<!-- -->)<!-- -->作用域<br>或用來建立 module path 的捷徑時使用</td></tr><tr><td>as</td><td>模組設別名時關鍵字</td><td>當引用到同名不同模組時，取別名時使用</td></tr><tr><td>pub</td><td>公開</td><td>public 讓指定項目動外公開</td></tr><tr><td>glob</td><td>global 全域運算子 *</td><td>use 時可以用 wildcard 引用所有 public 項目</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="package-套件">Package 套件<a href="#package-套件" class="hash-link" aria-label="Package 套件的直接連結" title="Package 套件的直接連結">​</a></h2><blockquote><p>Package 套件 : 基本上使用 cargo new project 指令建立的專案便是一個所謂的套件。<br>
<!-- -->一個套件裡面可以有多個 Crates。其中只能有一個 library crate。多個 binary crates。<br>
<!-- -->library crate 是依據商業功能或邏輯所產出程式碼封裝單元。<br>
<!-- -->binary crate 則可簡單想成為套件封裝成 exe 執行檔時的程式對外入口。也就是 main 的所在位置。<br>
<!-- -->module 則是依商業邏輯或程式封裝單元所產生的資料與資料夾結構。可簡單想成是將複雜程式歸類拆解後所產生的小單元。  </p><blockquote><p>所以:<br>
<!-- -->library crate 是專案開發時的所有功能程式的主要位置<br>
<!-- -->modules 則是你管理自己程式碼的方式，這直接影響將來的維護難易程度<br>
<!-- -->binary library 則是你程式碼 main 的入口處  </p></blockquote></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">目前(初學中)的想法: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A : 若是單純的工具專案 Util Project。  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library crate 則放置單純或跨專案可重複使用的工具程式碼處。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binary crate 則為工具程式對外的主要入口。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B : 若是一個客製化的商業專案</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">與 **商業邏輯相關的程式碼** 應該拆分成多個 modules 統一放在 binary crate 之中。  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">畢竟，概念上來說 library crate 應該是放可跨專案重複使用的程式碼區。  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">當然統一放在 library crate 中的指定 modules 下應該也行，  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">封裝隱藏對外入口便是，只是感覺上會影響未來維護。  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="crates">Crates<a href="#crates" class="hash-link" aria-label="Crates的直接連結" title="Crates的直接連結">​</a></h2><blockquote><p>Crates 是 Rust 語言中的<strong>慣例結構</strong>。<br>
<!-- -->在 src/main.rs 所引出的相關程式部分稱為 binary crate<br>
<!-- -->在 src/lib.rs 所引出的相關程式部分稱為 library crate  </p><blockquote><p>相關預設慣例可以經由 cargo.toml 更改設定  </p></blockquote></blockquote><p><strong>Rust Package 慣例結構</strong></p><blockquote><p>cargo.toml 檔: 套件設定檔-用來註記程式的入口等資訊...
src 資料夾慣例內容 :   </p><blockquote><p>src/main.rs : 預設是與套件同名的 binary crate 的 crate root<br>
<!-- -->src/lib.rs : 有此檔案的話，lib.rs 會被視為包含一個與套件同名的 library crate </p></blockquote></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="module-模組-">Module 模組 <span id="module"> </span><a href="#module-模組-" class="hash-link" aria-label="module-模組-的直接連結" title="module-模組-的直接連結">​</a></h2><ul><li><a href="/docs/模組套件與Crate/Rust_Nested_Module">Nested Modules</a> 感覺上不方便維護，最終 refatoring 結果應該也是放到獨立檔案中，所以另開主題介紹。</li></ul><blockquote><p>Modules 是程式碼的管理方式，所以 library crate 與 binary crates 都可再細分為多層次的 modules。  </p></blockquote><blockquote><p>Module 有三個重要概念  </p><blockquote><ol><li><a href="#impl">實作位置</a> : 就是相依的 rs 檔實際位置。    </li><li><a href="#declare">模組宣告<!-- -->(<!-- -->註冊<!-- -->)</a> : 需要告知 rust compiler 自行開發的 modules 所在位置。分為<a href="#declare_new">新式</a>與<a href="#declare_old">舊式</a>宣告。    </li><li><a href="#import">模組引用</a> : 程式開發了，Compiler 也知道程式的位置了。接下來就是如何使用它。  </li><li><a href="#import_lib">lib 引用</a> : 專案管理下分拆的 lib crate 引用方式。  </li></ol></blockquote></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="實作位置-"><strong>實作位置</strong> <span id="impl"> </span><a href="#實作位置-" class="hash-link" aria-label="實作位置-的直接連結" title="實作位置-的直接連結">​</a></h3><blockquote><p>與 Java 不同，javac 會自行依據 source folder 的資料夾結構遍歷當中所有檔案進行 compile。<br>
<!-- -->rustc 需要開發者主動告知那些檔案是要一起 compiled。<br>
<!-- -->所以，原則上我們可以在 src 資料夾內自行任意撰寫 rs 檔，<br>
<!-- -->但為了能被 rustc 知曉，需再進行 modules 宣告。<br>
<!-- -->宣告則必須遵循指定原則。  </p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="模組宣告註冊-"><strong>模組宣告(註冊)</strong> <span id="declare"> </span><a href="#模組宣告註冊-" class="hash-link" aria-label="模組宣告註冊-的直接連結" title="模組宣告註冊-的直接連結">​</a></h3><blockquote><p>模組宣告的目的是用來讓 Rust 建立 Module Tree。<br>
<!-- -->有了 Module Tree 後，rs 程式在 use 才能方便找尋相依程式碼。  </p><blockquote><p>學習到目前，我個人傾向為若用舊式風格的話，mod.rs 就單純用來當 modules 註冊用。<br>
<!-- -->這句話意味著 mod.rs 裡面除了註冊宣告外，也可以撰寫其他 functions、struct... 等 其他程式。</p></blockquote></blockquote><blockquote><p>Modules 註冊有兩種風格:<br>
<!-- -->舊式風格: 以 <strong>mod.rs 檔</strong>(清單檔 Manifest file)來註冊整個<strong>資料夾</strong>內的 rs 檔。
新式風格: mod 語法會直接對應相依名稱的 rs 檔。</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="舊式宣告風格-"><strong>舊式宣告風格</strong> <span id="declare_old"> </span><a href="#舊式宣告風格-" class="hash-link" aria-label="舊式宣告風格-的直接連結" title="舊式宣告風格-的直接連結">​</a></h3><blockquote><p>舊式風格: 以資料夾名稱來進行 module 引用，再搭配 mod.rs 檔案，查詢實作檔位置。
由於 Rust 程式碼的入口是位在根目錄的 main.rs，根目錄沒名字所以相關初始 modules 註冊工作就會一併交給 main.rs 來處理。  </p><blockquote><p>重點:<br>
<!-- -->rustc 經由 mod 註冊語法得知相關實作查詢位置，而後藉此建立 modules tree。<br>
<!-- -->主程式利用 module tree 結構，use 所需相關實作。
使用(use 語法)時搭配 associated function operator :: 來指向目標實作。 </p></blockquote></blockquote><p><strong>舊式風格範例</strong>
注意: 內註冊的對象為 <strong>mod 語法引出的對象</strong>  </p><ul><li>舊式風格範例資料夾結構</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">src/main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/camp_service.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/cook_module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/cook_module/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/cook_module/boodle.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/cook_module/pancake.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/traffic_module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/traffic_module/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/traffic_module/train.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src/camping/traffic_module/car.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>main.rs <!-- -->(<!-- -->root<!-- -->)<!-- --> 下的註冊方式
這邊因為先天限制<strong>無法經由 mod.rs</strong>註冊，所以直接註冊在 root 身上。</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//main.rs </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 註冊 camping 模組</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//這邊意味著:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 在當下資料夾內可能有一個 camping.rs 檔 或是 camping 資料夾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mod camping;  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>camping/mod.rs <!-- -->(<!-- -->常規模組<!-- -->)<!-- -->下的註冊方式  <ul><li><span style="color:#0044FF"> 模組資料夾名(camping)稱就是將來使用時的模組名 </span></li><li>cook_module, traffic_module 有 sub-modules。與 camping 模組相同需要建立模組資料夾   </li><li>camp_service 沒子模組，不須建立模組資料夾，但是會有一個 camp_service.rs     </li></ul></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// src/camping/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 註冊 cook_module, traffic_module, camp_service 模組</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mod cook_module ; //with sub module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mod traffic_module ; // w/o pub : visible in current folder only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub mod camp_service; //without sub module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 其實，mod.rs 也可以提供其他 functions </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn method_in_mod_rs() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;method_in_mod_rs&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>cook_module traffic_module mod.rs 下的註冊方式  </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//src/camping/cook_module/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub mod noodle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub mod pancake;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//src/camping/traffic_module/mod.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub mod train;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub mod car;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>其他相關實作</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mod camping;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    camping::camp_service::chill();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    camping::camp_service::have_noodle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    camping::camp_service::have_pancake();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    camping::method_in_mod_rs();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//camp_service.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use crate::camping::cook_module::noodle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use crate::camping::cook_module::pancake;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn chill() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;chill at camp_service.rs&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn have_noodle() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    noodle::prepare();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn have_pancake() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pancake::prepare();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//noodle.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn prepare(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;beef noodles&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//pancake.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn prepare(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(&quot;chocolate pancake&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//car.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn vehicle(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print!(&quot;Go by car&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//train.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn vehicle(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print!(&quot;Go by train&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="新式宣告風格-"><strong>新式宣告風格</strong> <span id="declare_new"> </span><a href="#新式宣告風格-" class="hash-link" aria-label="新式宣告風格-的直接連結" title="新式宣告風格-的直接連結">​</a></h3><blockquote><p>舊式風格下會出現程式碼中有非常多的 mod.rs 檔，造成維護困難。<br>
<!-- -->新式風格則省略 mod.rs 清單檔。<br>
<!-- -->整體<strong>註冊方時與同於舊式風格中的 crate root 中註冊 modules 相同</strong>。<br>
<!-- -->意即:<br>
<!-- -->在程式入口處 main.rs 中註冊 modules<br>
<!-- -->相關 sibling 模組就放在 src 資料夾中。<br>
<!-- -->若 sibling module 有子模組，<br>
<!-- -->則在 sibling rs 檔上註冊 <!-- -->(<!-- -->與 main.rs 相同<!-- -->)<br>
<!-- -->並以 sibling module 名為資料夾命名，並收集相關子模組檔 <!-- -->(<!-- -->這邊也相同<!-- -->)<!-- -->。  </p><blockquote><p>簡單的說就是 <span style="color:#0044FF"> <strong>把 mod.rs 改以 module name 命名，並移出模組資料夾</strong> </span>。   </p></blockquote></blockquote><ul><li>新式風格範例資料夾結構</li></ul><blockquote><p>src/main.rs  </p><p>src/camping<br>
<!-- -->src/camping/mod.rs  </p><p>src/camping/camp_service.rs  </p><p><del>src/camping/cook_module</del><br>
<del>src/camping/cook_module/mod.rs</del><br>
<strong><em>src/camping/cook_module.rs</em></strong> (新增，用以紀錄原先 mod.rs 內容)<br>
<!-- -->src/camping/cook_module/boodle.rs<br>
<!-- -->src/camping/cook_module/pancake.rs  </p><p><del>src/camping/traffic_module</del><br>
<del>src/camping/traffic_module/mod.rs</del><br>
<strong><em>src/camping/traffic_module.rs</em></strong> (新增)<br>
<!-- -->src/camping/traffic_module/train.rs<br>
<!-- -->src/camping/traffic_module/car.rs  </p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="模組引用-"><strong>模組引用</strong> <span id="import"> </span><a href="#模組引用-" class="hash-link" aria-label="模組引用-的直接連結" title="模組引用-的直接連結">​</a></h3><blockquote><p>關鍵字  </p><blockquote><p>模組引用 : <strong><span style="color:#0044FF"> use </span></strong> <br>
別名引用 : <strong><span style="color:#0044FF"> use as </span></strong> <br>
lib crate 引用 : <strong><span style="color:#0044FF"> extern crate </span></strong>   </p></blockquote></blockquote><p><strong>模組引用語法</strong></p><ul><li>建議在 rs 檔上方統一引用，以精簡敘述方便閱讀<ul><li>當然也可以在程式碼中以 certificated name 引用。</li><li>注意完整名是由 crate 起始。  </li></ul></li></ul><p><strong>模組引用範例</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use crate::camping as camp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use crate::travel::camping as travel_camp; //引用另一 module，但會出現名稱衝突，故以 as 取別名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    travel_camp::suggestions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    camp::schedule();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lib-crate-引用-"><strong>lib crate 引用</strong> <span id="import_lib"> </span><a href="#lib-crate-引用-" class="hash-link" aria-label="lib-crate-引用-的直接連結" title="lib-crate-引用-的直接連結">​</a></h3><blockquote><p>關鍵字 : <strong><span style="color:#0044FF"> extern crate </span></strong></p></blockquote><p><strong>引用 lib crate 語法 1</strong>  </p><ul><li>crate_name 預設為 package name <!-- -->(<!-- -->專案名稱<!-- -->)</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    extern crate &lt;package_name&gt;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>範例 cargo.toml</strong></p><blockquote><p>cargo.toml  中的 <strong><em>package block</em></strong>   </p><blockquote><p>name : <strong>預設</strong>使用(use 指令)時的名稱  </p></blockquote></blockquote><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[package]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = &quot;insect_totem&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version = &quot;0.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edition = &quot;2021&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>預設 lib crate 引用範例</strong> : 以 package name 引用。</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    extern crate insect_totem;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>引用 lib crate 語法 2: 設定客製化名稱</strong> </p><ul><li>若想更改預設慣例<ul><li>下面範例更改 lib crate 引用名稱由 insect_totem 改為 totem  </li><li>預設與客製化名稱不可同時使用，以客製化名稱優先  <blockquote><p>cargo.toml  中的 <strong><em>lib block</em></strong> 用來設定 library create 相關資訊  </p><blockquote><p>name : 使用(use 指令)時的<strong>客製化名稱 </strong><br>
<!-- -->path : 自訂 library create root 位置。 </p></blockquote></blockquote></li></ul></li></ul><p><strong>引用 lib crate : 別名引用</strong></p><ul><li>cargo.toml: 更改預設名為 totem</li></ul><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[package]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = &quot;insect_totem&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version = &quot;0.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edition = &quot;2021&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[lib]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=&quot;totem&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path=&quot;src/lib.rs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>main.rs example (搭配 cargo.toml 設定)</li></ul><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //extern crate insect_totem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    extern crate totem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件選項卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Rust起步走/Rust_Data_Type_Hashmap"><div class="pagination-nav__sublabel">上一頁</div><div class="pagination-nav__label">Rust_Data_Type_Hashmap</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/模組套件與Crate/Rust_Nested_Module"><div class="pagination-nav__sublabel">下一頁</div><div class="pagination-nav__label">Rust 內部 Module</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#package-套件" class="table-of-contents__link toc-highlight">Package 套件</a></li><li><a href="#crates" class="table-of-contents__link toc-highlight">Crates</a></li><li><a href="#module-模組-" class="table-of-contents__link toc-highlight">Module 模組 <span id="module"> </span></a><ul><li><a href="#實作位置-" class="table-of-contents__link toc-highlight"><strong>實作位置</strong> <span id="impl"> </span></a></li><li><a href="#模組宣告註冊-" class="table-of-contents__link toc-highlight"><strong>模組宣告(註冊)</strong> <span id="declare"> </span></a></li><li><a href="#舊式宣告風格-" class="table-of-contents__link toc-highlight"><strong>舊式宣告風格</strong> <span id="declare_old"> </span></a></li><li><a href="#新式宣告風格-" class="table-of-contents__link toc-highlight"><strong>新式宣告風格</strong> <span id="declare_new"> </span></a></li><li><a href="#模組引用-" class="table-of-contents__link toc-highlight"><strong>模組引用</strong> <span id="import"> </span></a></li><li><a href="#lib-crate-引用-" class="table-of-contents__link toc-highlight"><strong>lib crate 引用</strong> <span id="import_lib"> </span></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://insect-totem.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Insect Totem 主站<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://python.insect-totem.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python 學習紀錄<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rust.insect-totem.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rust 學習紀錄<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chichunhuang.github.io/burning/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Burny&#x27;s Gallery : 布妮的美術作品區<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chichunhuang.github.io/rain/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rain&#x27;s Math Zone: Rain 的學習檔案<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">About Me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://insect-totem.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">曾經以為自己會當一個生物學家，後來發現生物學家總是用老方法做事。所以開始開發系統輔佐生物學家進行研究。<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Insec Totem, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.060c430c.js"></script>
<script src="/assets/js/main.7644b050.js"></script>
</body>
</html>